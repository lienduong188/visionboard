import{r as v,C as Re,q as K,c as d,h as N,u as i,i as Ee,j as F,d as e,f as a,n as R,t as r,m as u,p as x,k,b as He,w as b,G as ee,E as Ie,z as p,F as B,g as E,s as _,x as te,v as se,l as oe,e as re,B as f}from"./app-C0jw6siE.js";import{_ as We}from"./AuthenticatedLayout-MnS8EBOt.js";import{d as ae,a as Oe,_ as Ge}from"./GoalProgressChart-BH6MTAOH.js";import{f as z,a as J,p as X}from"./formatNumber-CZPogZXQ.js";import"./ApplicationLogo-DxSRxMrv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BSJxmFev.js";const Ke={class:"flex items-center justify-between"},Je={class:"flex items-center gap-4"},Qe={class:"text-xl font-semibold text-gray-800 dark:text-gray-200"},Xe={class:"flex items-center gap-2"},Ye=["title"],Ze={class:"py-6"},et={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},tt={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg overflow-hidden"},st={class:"h-full w-full bg-gradient-to-t from-black/60 to-transparent flex items-end p-6"},ot={class:"p-6"},rt={class:"flex items-start justify-between mb-6"},at={class:"flex items-center gap-3 mb-2"},lt={class:"text-3xl font-bold text-gray-900 dark:text-white"},dt={class:"text-right"},it={class:"mb-6"},nt={class:"h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},gt={key:0,class:"mb-6 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl"},ut={class:"flex items-center justify-between mb-2"},yt={class:"text-2xl font-bold text-gray-900 dark:text-white"},ct={class:"text-gray-500 dark:text-gray-400 font-normal"},xt={key:1,class:"mb-6"},bt={class:"text-gray-600 dark:text-gray-400 whitespace-pre-wrap"},vt={class:"grid grid-cols-2 gap-4 mb-6"},mt={key:0,class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl"},pt={class:"font-semibold text-gray-900 dark:text-white"},ft={key:1,class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl"},kt={class:"font-semibold text-gray-900 dark:text-white"},ht={class:"mb-6"},wt={class:"flex items-center justify-between mb-4"},_t={class:"text-lg font-semibold text-gray-900 dark:text-white"},Ct={key:0,class:"text-gray-500 dark:text-gray-400 font-normal"},Mt={class:"flex items-start gap-3 p-3"},Vt=["onClick"],St={class:"flex-1 min-w-0"},Lt=["onClick"],$t={key:0,class:"text-xs text-amber-600 dark:text-amber-400",title:"Soft milestone - doesn't count toward progress"},zt={key:1,class:"text-xs text-gray-400"},Dt={key:0},jt={key:1},At={key:2},Tt={class:"mt-2 pl-6 space-y-1"},Pt={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},Ut={key:1,class:"text-sm text-indigo-600 dark:text-indigo-400"},Bt=["innerHTML"],qt={key:2,class:"text-sm text-gray-500 dark:text-gray-400"},Nt=["src"],Ft={class:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"},Rt=["onClick","title"],Et=["onClick"],Ht=["onClick"],It={class:"border-t border-gray-200 dark:border-gray-700 ml-9 mr-3 mb-2"},Wt={class:"flex items-center justify-between py-2"},Ot=["onClick"],Gt=["onClick"],Kt={key:0,class:"flex items-center gap-2 pb-2"},Jt=["onUpdate:modelValue","onKeyup"],Qt=["onClick"],Xt={key:1,class:"space-y-1 pb-2"},Yt=["onClick"],Zt={key:0,class:"w-2.5 h-2.5",fill:"currentColor",viewBox:"0 0 20 20"},es={key:0,class:"text-xs text-gray-400"},ts=["onClick"],ss={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},os={class:"mb-6"},rs={class:"flex items-center justify-between mb-4"},as={class:"text-lg font-semibold text-gray-900 dark:text-white"},ls={key:0,class:"text-gray-500 dark:text-gray-400 font-normal"},ds={key:0,class:"space-y-3"},is=["onClick","title"],ns={class:"flex-1 min-w-0"},gs={class:"flex items-center gap-2"},us={class:"text-sm text-gray-600 dark:text-gray-400"},ys={key:0,class:"text-sm text-gray-500 dark:text-gray-400 truncate mt-1"},cs={key:1,class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},xs={class:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"},bs=["onClick"],vs=["onClick"],ms={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},ps={class:"mb-6"},fs={class:"mb-6"},ks={class:"flex items-center justify-between mb-4"},hs={class:"text-lg font-semibold text-gray-900 dark:text-white"},ws={key:0,class:"text-gray-500 dark:text-gray-400 font-normal"},_s={key:0,class:"space-y-2"},Cs={class:"flex-1"},Ms={class:"flex items-center gap-2"},Vs={class:"font-medium text-gray-900 dark:text-white"},Ss={key:0,class:"text-xs text-green-500"},Ls={key:1,class:"text-xs text-red-500"},$s={key:0,class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},zs={class:"flex items-center gap-2"},Ds={class:"text-sm text-gray-500 dark:text-gray-400"},js={class:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"},As=["onClick"],Ts=["onClick"],Ps={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},Us={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md mx-4"},Bs={class:"mb-4"},qs={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},Ns={class:"mb-6"},Fs={class:"flex justify-end gap-3"},Rs=["disabled"],Es={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto"},Hs={class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},Is={class:"mb-4"},Ws={class:"mb-4"},Os={class:"mb-4"},Gs={class:"grid grid-cols-2 gap-4 mb-4"},Ks={class:"mb-4"},Js={key:0,class:"mt-2 relative"},Qs=["src"],Xs={class:"flex items-start gap-3 cursor-pointer"},Ys={class:"flex justify-end gap-3"},Zs=["disabled"],eo={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md mx-4"},to={class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},so={class:"mb-4"},oo={class:"mb-4"},ro={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},ao={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},lo={class:"mb-6"},io={class:"flex justify-end gap-3"},no=["disabled"],go={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md mx-4"},uo={class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},yo={class:"mb-4"},co={class:"grid grid-cols-3 gap-2"},xo={class:"mb-4"},bo={key:0,class:"mb-4"},vo={class:"flex gap-1"},mo=["onClick","title"],po={key:1,class:"mb-4"},fo={class:"flex items-center gap-2"},ko=["value"],ho={key:2,class:"mb-4"},wo={class:"mb-4"},_o={class:"mb-4"},Co={key:3,class:"mb-6"},Mo={class:"flex items-center gap-2 cursor-pointer"},Vo={class:"flex justify-end gap-3"},So=["disabled"],Po={__name:"Show",props:{goal:Object},setup(l){const c=l;ae.setOptions({breaks:!0,gfm:!0});const le=o=>o?ae.parse(o):"",D=v([...c.goal.milestones||[]]);Re(()=>c.goal.milestones,o=>{D.value=[...o||[]]},{deep:!0});const de=()=>{const o=D.value.map(t=>t.id);f.post(route("milestones.reorder",c.goal.id),{order:o},{preserveScroll:!0})},q=v(!1),C=K({current_value:c.goal.current_value||0,note:""}),H=v(z(c.goal.current_value||0)),ie=()=>{C.current_value=X(H.value),H.value=z(C.current_value)},ne=()=>{C.patch(route("goals.progress",c.goal.id),{onSuccess:()=>{q.value=!1,C.reset("note")}})},ge=()=>{f.patch(route("goals.pin",c.goal.id))},ue=()=>{confirm("Are you sure you want to delete this goal?")&&f.delete(route("goals.destroy",c.goal.id))},M=v(!1),j=v(null),y=K({title:"",description:"",memo:"",target_value:"",due_date:"",is_soft:!1,image:null,remove_image:!1}),w=v(null),Q=v(null),A=v(""),ye=()=>{y.target_value=X(A.value),A.value=z(y.target_value)},I=v({}),ce=()=>{j.value=null,y.reset(),w.value=null,A.value="",M.value=!0},xe=o=>{j.value=o,y.title=o.title,y.description=o.description||"",y.memo=o.memo||"",y.target_value=o.target_value||"",A.value=z(o.target_value),y.due_date=o.due_date||"",y.is_soft=o.is_soft||!1,y.image=null,y.remove_image=!1,w.value=o.image_url||null,M.value=!0},be=o=>{const t=o.target.files[0];t&&(y.image=t,y.remove_image=!1,w.value=URL.createObjectURL(t))},ve=()=>{y.image=null,y.remove_image=!0,w.value=null,Q.value&&(Q.value.value="")},me=()=>{j.value?f.post(route("milestones.update",[c.goal.id,j.value.id]),{_method:"put",...y.data()},{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{M.value=!1,y.reset(),w.value=null}}):y.post(route("milestones.store",c.goal.id),{onSuccess:()=>{M.value=!1,y.reset(),w.value=null}})},pe=o=>{f.patch(route("milestones.toggle-soft",[c.goal.id,o.id]),{},{preserveScroll:!0})},fe=o=>{f.patch(route("milestones.toggle",[c.goal.id,o.id]))},ke=o=>{confirm("Delete this milestone?")&&f.delete(route("milestones.destroy",[c.goal.id,o.id]))},W=v({}),O=v({}),Y=o=>{const t=W.value[o.id];t?.trim()&&f.post(route("milestone-todos.store",[c.goal.id,o.id]),{title:t.trim()},{preserveScroll:!0,onSuccess:()=>{W.value[o.id]="",O.value[o.id]=!1}})},he=(o,t)=>{f.patch(route("milestone-todos.toggle",[c.goal.id,o.id,t.id]),{},{preserveScroll:!0})},we=(o,t)=>{f.delete(route("milestone-todos.destroy",[c.goal.id,o.id,t.id]),{preserveScroll:!0})},_e=re(()=>c.goal.progress>=100?"bg-green-500":c.goal.progress>=75?"bg-emerald-500":c.goal.progress>=50?"bg-yellow-500":c.goal.progress>=25?"bg-orange-500":"bg-red-500"),Z=re(()=>{const o={not_started:{text:"Not Started",class:"bg-gray-500"},in_progress:{text:"In Progress",class:"bg-blue-500"},completed:{text:"Completed",class:"bg-green-500"},paused:{text:"Paused",class:"bg-yellow-500"},cancelled:{text:"Cancelled",class:"bg-red-500"}};return o[c.goal.status]||o.not_started}),V=o=>o?new Date(o).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"}):"",T=v({}),Ce=o=>{T.value[o]=!T.value[o]},S=v(!1),L=v(null),n=K({type:"progress",frequency:"daily",custom_days:"",weekly_days:"",monthly_day:1,remind_time:"09:00",message:"",is_active:!0}),Me=[{value:1,label:"Mon",fullLabel:"Monday"},{value:2,label:"Tue",fullLabel:"Tuesday"},{value:3,label:"Wed",fullLabel:"Wednesday"},{value:4,label:"Thu",fullLabel:"Thursday"},{value:5,label:"Fri",fullLabel:"Friday"},{value:6,label:"Sat",fullLabel:"Saturday"},{value:7,label:"Sun",fullLabel:"Sunday"}],h=v([1]),Ve=o=>{const t=h.value.indexOf(o);t>-1?h.value.length>1&&h.value.splice(t,1):h.value.push(o),h.value.sort((s,g)=>s-g),n.weekly_days=h.value.join(",")},Se=()=>{L.value=null,n.reset(),n.type="progress",n.frequency="daily",n.remind_time="09:00",n.weekly_days="1",n.monthly_day=1,h.value=[1],S.value=!0},Le=o=>{L.value=o,n.type=o.type,n.frequency=o.frequency,n.custom_days=o.custom_days||"",n.weekly_days=o.weekly_days||"1",n.monthly_day=o.monthly_day||1,n.remind_time=o.remind_time?.slice(0,5)||"09:00",n.message=o.message||"",n.is_active=o.is_active,h.value=o.weekly_days?o.weekly_days.split(",").map(Number):[1],S.value=!0},$e=()=>{L.value?n.put(route("reminders.update",[c.goal.id,L.value.id]),{onSuccess:()=>{S.value=!1,n.reset()}}):n.post(route("reminders.store",c.goal.id),{onSuccess:()=>{S.value=!1,n.reset()}})},ze=o=>{f.patch(route("reminders.toggle",[c.goal.id,o.id]))},De=o=>{confirm("Delete this reminder?")&&f.delete(route("reminders.destroy",[c.goal.id,o.id]))},je={daily:"Daily",weekly:"Weekly",monthly:"Monthly",custom:"Custom"},Ae={progress:"Progress",deadline:"Deadline",custom:"Custom"},$=v(!1),P=v(null),m=K({new_value:"",logged_at:"",note:""}),U=v(""),Te=()=>{m.new_value=X(U.value),U.value=z(m.new_value)},Pe=()=>{P.value=null,m.reset(),m.logged_at=new Date().toISOString().split("T")[0],m.new_value=c.goal.current_value||0,U.value=z(c.goal.current_value||0),$.value=!0},Ue=o=>{P.value=o,m.new_value=o.new_value,U.value=z(o.new_value),m.logged_at=o.logged_at?.split("T")[0]||o.logged_at?.split(" ")[0]||"",m.note=o.note||"",$.value=!0},Be=()=>{P.value?m.put(route("progress-logs.update",[c.goal.id,P.value.id]),{onSuccess:()=>{$.value=!1,m.reset()}}):m.post(route("progress-logs.store",c.goal.id),{onSuccess:()=>{$.value=!1,m.reset()}})},qe=o=>{confirm("Delete this progress log?")&&f.delete(route("progress-logs.destroy",[c.goal.id,o.id]))},G=v(!1),Ne=o=>{if(o.frequency==="weekly"&&o.weekly_days){const t={1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat",7:"Sun"};return`Weekly (${o.weekly_days.split(",").map(g=>t[g]||g).join(", ")})`}return o.frequency==="monthly"&&o.monthly_day?`Day ${o.monthly_day} monthly`:je[o.frequency]||o.frequency};return(o,t)=>(a(),d(B,null,[N(i(Ee),{title:l.goal.title},null,8,["title"]),N(We,null,{header:F(()=>[e("div",Ke,[e("div",Je,[N(i(oe),{href:o.route("goals.index",{view:"plan"}),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},{default:F(()=>[...t[31]||(t[31]=[k(" â† Back to Plan ",-1)])]),_:1},8,["href"]),e("h2",Qe,r(l.goal.title),1)]),e("div",Xe,[e("button",{onClick:ge,class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:l.goal.is_pinned?"Unpin":"Pin"},r(l.goal.is_pinned?"ðŸ“":"ðŸ“Œ"),9,Ye),N(i(oe),{href:o.route("goals.index",{view:"plan",editGoal:l.goal.id}),class:"px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors"},{default:F(()=>[...t[32]||(t[32]=[k(" Edit in Modal ",-1)])]),_:1},8,["href"]),e("button",{onClick:ue,class:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors"}," Delete ")])])]),default:F(()=>[e("div",Ze,[e("div",et,[e("div",tt,[l.goal.cover_image_url?(a(),d("div",{key:0,class:"h-64 bg-cover bg-center",style:R({backgroundImage:`url(${l.goal.cover_image_url})`})},[e("div",st,[e("div",null,[e("span",{class:"px-3 py-1 rounded-full text-sm font-medium",style:R({backgroundColor:l.goal.category?.color,color:"white"})},r(l.goal.category?.icon)+" "+r(l.goal.category?.name),5)])])],4)):(a(),d("div",{key:1,class:"h-32 flex items-center justify-center text-8xl",style:R({backgroundColor:`${l.goal.category?.color}20`})},r(l.goal.category?.icon||"ðŸŽ¯"),5)),e("div",ot,[e("div",rt,[e("div",null,[e("div",at,[l.goal.cover_image?u("",!0):(a(),d("span",{key:0,class:"px-3 py-1 rounded-full text-sm font-medium",style:R({backgroundColor:`${l.goal.category?.color}20`,color:l.goal.category?.color})},r(l.goal.category?.icon)+" "+r(l.goal.category?.name),5)),e("span",{class:x(["px-3 py-1 rounded-full text-sm font-medium text-white",Z.value.class])},r(Z.value.text),3)]),e("h1",lt,r(l.goal.title),1)]),e("div",dt,[e("div",{class:x(["text-4xl font-bold",l.goal.progress>=100?"text-green-500":"text-indigo-500"])},r(l.goal.progress)+"% ",3),t[33]||(t[33]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Complete",-1))])]),e("div",it,[e("div",nt,[e("div",{class:x(["h-full rounded-full transition-all duration-500",_e.value]),style:R({width:`${l.goal.progress}%`})},null,6)])]),l.goal.target_value&&l.goal.unit?(a(),d("div",gt,[e("div",ut,[t[34]||(t[34]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Progress",-1)),e("button",{onClick:t[0]||(t[0]=s=>q.value=!0),class:"px-3 py-1 bg-indigo-500 text-white text-sm rounded-lg hover:bg-indigo-600 transition-colors"}," Update Progress ")]),e("div",yt,[k(r(i(J)(l.goal.current_value))+" ",1),e("span",ct," / "+r(i(J)(l.goal.target_value))+" "+r(l.goal.unit),1)])])):u("",!0),l.goal.description?(a(),d("div",xt,[t[35]||(t[35]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Description",-1)),e("p",bt,r(l.goal.description),1)])):u("",!0),e("div",vt,[l.goal.start_date?(a(),d("div",mt,[t[36]||(t[36]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Start Date",-1)),e("div",pt,r(V(l.goal.start_date)),1)])):u("",!0),l.goal.target_date?(a(),d("div",ft,[t[37]||(t[37]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Target Date",-1)),e("div",kt,r(V(l.goal.target_date)),1)])):u("",!0)]),e("div",ht,[e("div",wt,[e("h3",_t,[t[38]||(t[38]=k(" ðŸ“‹ Milestones ",-1)),l.goal.milestones?.length?(a(),d("span",Ct," ("+r(l.goal.milestones.filter(s=>s.is_completed).length)+"/"+r(l.goal.milestones.length)+") ",1)):u("",!0),t[39]||(t[39]=e("span",{class:"text-sm font-normal text-gray-400 dark:text-gray-500 ml-2"},"(drag to reorder)",-1))]),e("button",{onClick:ce,class:"px-3 py-1 bg-indigo-500 text-white text-sm rounded-lg hover:bg-indigo-600 transition-colors flex items-center gap-1"},[...t[40]||(t[40]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1),k(" Add ",-1)])])]),D.value.length?(a(),He(i(Oe),{key:0,modelValue:D.value,"onUpdate:modelValue":t[1]||(t[1]=s=>D.value=s),"item-key":"id",class:"space-y-3",handle:".drag-handle",onEnd:de},{item:F(({element:s})=>[e("div",{class:x(["rounded-lg group overflow-hidden",s.is_soft?"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800":s.is_completed?"bg-green-50 dark:bg-green-900/20":"bg-gray-50 dark:bg-gray-700/50"])},[e("div",Mt,[t[45]||(t[45]=e("div",{class:"drag-handle cursor-grab active:cursor-grabbing text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 flex-shrink-0 mt-1"},[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z"})])],-1)),e("button",{onClick:g=>fe(s),class:x(["w-6 h-6 flex items-center justify-center rounded-full text-sm transition-colors flex-shrink-0 mt-0.5",s.is_completed?"bg-green-500 text-white hover:bg-green-600":s.is_soft?"bg-amber-400 text-white hover:bg-amber-500":"bg-gray-300 dark:bg-gray-600 text-gray-600 dark:text-gray-400 hover:bg-indigo-500 hover:text-white"])},r(s.is_completed?"âœ“":s.is_soft?"ðŸ””":s.sort_order),11,Vt),e("div",St,[e("div",{class:"flex items-center gap-2 cursor-pointer select-none",onClick:g=>Ce(s.id)},[(a(),d("svg",{class:x(["w-4 h-4 text-gray-400 transition-transform flex-shrink-0",{"rotate-90":T.value[s.id]}]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[41]||(t[41]=[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"},null,-1)])],2)),e("span",{class:x(["font-medium",s.is_completed?"text-green-700 dark:text-green-400 line-through":s.is_soft?"text-amber-700 dark:text-amber-300":"text-gray-900 dark:text-white"])},r(s.title),3),s.is_soft?(a(),d("span",$t," (soft) ")):u("",!0),!T.value[s.id]&&(s.description||s.memo||s.image_url||s.due_date)?(a(),d("span",zt,[s.memo?(a(),d("span",Dt,"ðŸ“")):u("",!0),s.image_url?(a(),d("span",jt,"ðŸ–¼ï¸")):u("",!0),s.due_date?(a(),d("span",At,"ðŸ“…")):u("",!0)])):u("",!0)],8,Lt),b(e("div",Tt,[s.description?(a(),d("div",Pt,r(s.description),1)):u("",!0),s.memo?(a(),d("div",Ut,[t[42]||(t[42]=e("span",{class:"mr-1"},"ðŸ“",-1)),e("span",{class:"memo-content prose prose-sm prose-indigo dark:prose-invert max-w-none inline",innerHTML:le(s.memo)},null,8,Bt)])):u("",!0),s.due_date?(a(),d("div",qt," ðŸ“… Due: "+r(V(s.due_date)),1)):u("",!0),s.image_url?(a(),d("img",{key:3,src:s.image_url,alt:"Milestone image",class:"mt-2 rounded-lg max-h-32 object-cover"},null,8,Nt)):u("",!0)],512),[[ee,T.value[s.id]]])]),e("div",Ft,[e("button",{onClick:g=>pe(s),class:x(["p-1.5 rounded transition-colors",s.is_soft?"text-amber-500 hover:text-amber-600 hover:bg-amber-50 dark:hover:bg-amber-900/30":"text-gray-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30"]),title:s.is_soft?"Make normal milestone":"Make soft milestone"}," ðŸ”” ",10,Rt),e("button",{onClick:g=>xe(s),class:"p-1.5 text-gray-400 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded transition-colors",title:"Edit"},[...t[43]||(t[43]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1)])],8,Et),e("button",{onClick:g=>ke(s),class:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded transition-colors",title:"Delete"},[...t[44]||(t[44]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])],8,Ht)])]),b(e("div",It,[e("div",Wt,[e("button",{onClick:g=>I.value[s.id]=!I.value[s.id],class:"text-xs text-gray-500 dark:text-gray-400 hover:text-indigo-500 flex items-center gap-1"},[(a(),d("svg",{class:x(["w-3 h-3 transition-transform",{"rotate-90":I.value[s.id]}]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[46]||(t[46]=[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"},null,-1)])],2)),k(" Todos ("+r(s.todos?.filter(g=>g.is_completed).length||0)+"/"+r(s.todos?.length||0)+") ",1)],8,Ot),e("button",{onClick:g=>O.value[s.id]=!O.value[s.id],class:"text-xs text-indigo-500 hover:text-indigo-600"}," + Add ",8,Gt)]),O.value[s.id]?(a(),d("div",Kt,[b(e("input",{"onUpdate:modelValue":g=>W.value[s.id]=g,type:"text",class:"flex-1 text-sm border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded py-1 px-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Todo title...",onKeyup:Ie(g=>Y(s),["enter"])},null,40,Jt),[[p,W.value[s.id]]]),e("button",{onClick:g=>Y(s),class:"text-xs px-2 py-1 bg-indigo-500 text-white rounded hover:bg-indigo-600"}," Add ",8,Qt)])):u("",!0),I.value[s.id]&&s.todos?.length?(a(),d("div",Xt,[(a(!0),d(B,null,E(s.todos,g=>(a(),d("div",{key:g.id,class:"flex items-center gap-2 text-sm py-1 px-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700/50 group/todo"},[e("button",{onClick:Fe=>he(s,g),class:x(["w-4 h-4 rounded border flex items-center justify-center transition-colors flex-shrink-0",g.is_completed?"bg-green-500 border-green-500 text-white":"border-gray-300 dark:border-gray-500 hover:border-green-400"])},[g.is_completed?(a(),d("svg",Zt,[...t[47]||(t[47]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):u("",!0)],10,Yt),e("span",{class:x(["flex-1",g.is_completed?"text-gray-400 line-through":"text-gray-700 dark:text-gray-300"])},r(g.title),3),g.start_date||g.end_date?(a(),d("span",es,r(g.start_date?V(g.start_date).slice(5):"")+" "+r(g.start_date&&g.end_date?"â†’":"")+" "+r(g.end_date?V(g.end_date).slice(5):""),1)):u("",!0),e("button",{onClick:Fe=>we(s,g),class:"text-red-400 hover:text-red-600 opacity-0 group-hover/todo:opacity-100 transition-opacity text-xs"}," âœ• ",8,ts)]))),128))])):u("",!0)],512),[[ee,T.value[s.id]]])],2)]),_:1},8,["modelValue"])):u("",!0),D.value.length?u("",!0):(a(),d("div",ss," No milestones yet. Add your first milestone! "))]),e("div",os,[e("div",rs,[e("h3",as,[t[48]||(t[48]=k(" ðŸ”” Reminders ",-1)),l.goal.reminders?.length?(a(),d("span",ls," ("+r(l.goal.reminders.filter(s=>s.is_active).length)+" active) ",1)):u("",!0)]),e("button",{onClick:Se,class:"px-3 py-1 bg-indigo-500 text-white text-sm rounded-lg hover:bg-indigo-600 transition-colors flex items-center gap-1"},[...t[49]||(t[49]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1),k(" Add ",-1)])])]),l.goal.reminders?.length?(a(),d("div",ds,[(a(!0),d(B,null,E(l.goal.reminders,s=>(a(),d("div",{key:s.id,class:x(["flex items-center gap-3 p-3 rounded-lg group",s.is_active?"bg-indigo-50 dark:bg-indigo-900/20":"bg-gray-50 dark:bg-gray-700/50 opacity-60"])},[e("button",{onClick:g=>ze(s),class:x(["w-8 h-8 flex items-center justify-center rounded-full text-lg transition-colors",s.is_active?"bg-indigo-500 text-white hover:bg-indigo-600":"bg-gray-300 dark:bg-gray-600 text-gray-500 hover:bg-indigo-500 hover:text-white"]),title:s.is_active?"Disable":"Enable"},r(s.is_active?"ðŸ””":"ðŸ”•"),11,is),e("div",ns,[e("div",gs,[e("span",{class:x(["px-2 py-0.5 text-xs rounded-full font-medium",{"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":s.type==="progress","bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":s.type==="deadline","bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400":s.type==="custom"}])},r(Ae[s.type]),3),e("span",us,r(Ne(s))+" lÃºc "+r(s.remind_time?.slice(0,5)),1)]),s.message?(a(),d("div",ys,' "'+r(s.message)+'" ',1)):u("",!0),s.next_send_at?(a(),d("div",cs," Next: "+r(V(s.next_send_at)),1)):u("",!0)]),e("div",xs,[e("button",{onClick:g=>Le(s),class:"p-1.5 text-gray-400 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded transition-colors",title:"Edit"},[...t[50]||(t[50]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1)])],8,bs),e("button",{onClick:g=>De(s),class:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded transition-colors",title:"Delete"},[...t[51]||(t[51]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])],8,vs)])],2))),128))])):(a(),d("div",ms," No reminders yet. Add one to stay on track! "))]),e("div",ps,[N(Ge,{goal:l.goal,"progress-logs":l.goal.progress_logs||[]},null,8,["goal","progress-logs"])]),e("div",fs,[e("div",ks,[e("h3",hs,[t[52]||(t[52]=k(" ðŸ“œ Progress History ",-1)),l.goal.progress_logs?.length?(a(),d("span",ws," ("+r(l.goal.progress_logs.length)+" logs) ",1)):u("",!0)]),e("button",{onClick:Pe,class:"px-3 py-1 bg-indigo-500 text-white text-sm rounded-lg hover:bg-indigo-600 transition-colors flex items-center gap-1"},[...t[53]||(t[53]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1),k(" Add Log ",-1)])])]),l.goal.progress_logs?.length?(a(),d("div",_s,[(a(!0),d(B,null,E(G.value?l.goal.progress_logs:l.goal.progress_logs.slice(0,5),s=>(a(),d("div",{key:s.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg group"},[e("div",Cs,[e("div",Ms,[e("span",Vs,r(i(J)(s.new_value))+" "+r(l.goal.unit),1),t[54]||(t[54]=e("span",{class:"text-gray-500 dark:text-gray-400"},"â†’",-1)),e("span",{class:x(["font-medium",s.new_progress>=s.previous_progress?"text-green-500":"text-red-500"])},r(s.new_progress)+"% ",3),s.new_progress>s.previous_progress?(a(),d("span",Ss," (+"+r(s.new_progress-s.previous_progress)+"%) ",1)):s.new_progress<s.previous_progress?(a(),d("span",Ls," ("+r(s.new_progress-s.previous_progress)+"%) ",1)):u("",!0)]),s.note?(a(),d("div",$s," ðŸ“ "+r(s.note),1)):u("",!0)]),e("div",zs,[e("div",Ds,r(V(s.logged_at)),1),e("div",js,[e("button",{onClick:g=>Ue(s),class:"p-1.5 text-gray-400 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded transition-colors",title:"Edit"},[...t[55]||(t[55]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1)])],8,As),e("button",{onClick:g=>qe(s),class:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded transition-colors",title:"Delete"},[...t[56]||(t[56]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])],8,Ts)])])]))),128)),l.goal.progress_logs.length>5?(a(),d("button",{key:0,onClick:t[2]||(t[2]=s=>G.value=!G.value),class:"w-full py-2 text-sm text-indigo-500 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors"},r(G.value?"Show less":`View all ${l.goal.progress_logs.length} logs`),1)):u("",!0)])):(a(),d("div",Ps," No progress logs yet. Add your first log! "))])])])])]),q.value?(a(),d("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:t[6]||(t[6]=_(s=>q.value=!1,["self"]))},[e("div",Us,[t[58]||(t[58]=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"}," Update Progress ",-1)),e("form",{onSubmit:_(ne,["prevent"])},[e("div",Bs,[e("label",qs," Current Value ("+r(l.goal.unit)+") ",1),b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>H.value=s),type:"text",inputmode:"decimal",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",onBlur:ie},null,544),[[p,H.value]])]),e("div",Ns,[t[57]||(t[57]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Note (optional) ",-1)),b(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>i(C).note=s),rows:"3",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",placeholder:"Add a note about this update..."},null,512),[[p,i(C).note]])]),e("div",Fs,[e("button",{type:"button",onClick:t[5]||(t[5]=s=>q.value=!1),class:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"}," Cancel "),e("button",{type:"submit",disabled:i(C).processing,class:"px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors disabled:opacity-50"}," Save ",8,Rs)])],32)])])):u("",!0),M.value?(a(),d("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:t[14]||(t[14]=_(s=>M.value=!1,["self"]))},[e("div",Es,[e("h3",Hs,r(j.value?"Edit Milestone":"Add Milestone"),1),e("form",{onSubmit:_(me,["prevent"])},[e("div",Is,[t[59]||(t[59]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Title * ",-1)),b(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>i(y).title=s),type:"text",required:"",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., Complete first chapter"},null,512),[[p,i(y).title]])]),e("div",Ws,[t[60]||(t[60]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Description ",-1)),b(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=s=>i(y).description=s),rows:"2",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",placeholder:"Short description..."},null,512),[[p,i(y).description]])]),e("div",Os,[t[61]||(t[61]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," ðŸ“ Memo / Notes ",-1)),b(e("textarea",{"onUpdate:modelValue":t[9]||(t[9]=s=>i(y).memo=s),rows:"3",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",placeholder:"Detailed notes, ideas..."},null,512),[[p,i(y).memo]])]),e("div",Gs,[e("div",null,[t[62]||(t[62]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Target Value ",-1)),b(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>A.value=s),type:"text",inputmode:"decimal",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",placeholder:"Optional",onBlur:ye},null,544),[[p,A.value]])]),e("div",null,[t[63]||(t[63]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Due Date ",-1)),b(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>i(y).due_date=s),type:"date",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500"},null,512),[[p,i(y).due_date]])])]),e("div",Ks,[t[65]||(t[65]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," ðŸ–¼ï¸ Image ",-1)),e("input",{ref_key:"milestoneFileInput",ref:Q,type:"file",accept:"image/jpeg,image/png,image/jpg,image/gif,image/webp",onChange:be,class:"block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-indigo-900 dark:file:text-indigo-300"},null,544),w.value?(a(),d("div",Js,[e("img",{src:w.value,alt:"Preview",class:"h-24 rounded-lg object-cover"},null,8,Qs),e("button",{type:"button",onClick:ve,class:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-0.5 hover:bg-red-600 transition-colors"},[...t[64]||(t[64]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])])):u("",!0)]),e("div",{class:x(["mb-6 p-3 rounded-lg",i(y).is_soft?"bg-amber-50 dark:bg-amber-900/20":"bg-gray-50 dark:bg-gray-700/50"])},[e("label",Xs,[b(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>i(y).is_soft=s),type:"checkbox",class:"mt-1 rounded text-amber-500 focus:ring-amber-500"},null,512),[[te,i(y).is_soft]]),t[66]||(t[66]=e("div",null,[e("span",{class:"font-medium text-gray-900 dark:text-white"},"ðŸ”” Soft Milestone"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",title:"Nháº¯c nhá»Ÿ nháº¹, khÃ´ng tÃ­nh vÃ o progress"}," This milestone won't count toward goal progress, just a daily reminder. ")],-1))])],2),e("div",Ys,[e("button",{type:"button",onClick:t[13]||(t[13]=s=>M.value=!1),class:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"}," Cancel "),e("button",{type:"submit",disabled:i(y).processing,class:"px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors disabled:opacity-50"},r(j.value?"Update":"Add"),9,Zs)])],32)])])):u("",!0),$.value?(a(),d("div",{key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:t[19]||(t[19]=_(s=>$.value=!1,["self"]))},[e("div",eo,[e("h3",to,r(P.value?"Edit Progress Log":"Add Progress Log"),1),e("form",{onSubmit:_(Be,["prevent"])},[e("div",so,[t[67]||(t[67]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," ðŸ“… Date * ",-1)),b(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>i(m).logged_at=s),type:"date",required:"",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500"},null,512),[[p,i(m).logged_at]]),t[68]||(t[68]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1",title:"Chá»n ngÃ y báº¡n muá»‘n ghi nháº­n tiáº¿n Ä‘á»™"}," Select the date for this progress entry (can be past date) ",-1))]),e("div",oo,[e("label",ro," ðŸ“Š Value ("+r(l.goal.unit||"unit")+") * ",1),b(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>U.value=s),type:"text",inputmode:"decimal",required:"",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",onBlur:Te},null,544),[[p,U.value]]),e("p",ao," Target: "+r(i(J)(l.goal.target_value))+" "+r(l.goal.unit),1)]),e("div",lo,[t[69]||(t[69]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," ðŸ“ Note ",-1)),b(e("textarea",{"onUpdate:modelValue":t[17]||(t[17]=s=>i(m).note=s),rows:"2",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., Ran 5km this morning..."},null,512),[[p,i(m).note]])]),e("div",io,[e("button",{type:"button",onClick:t[18]||(t[18]=s=>$.value=!1),class:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"}," Cancel "),e("button",{type:"submit",disabled:i(m).processing,class:"px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors disabled:opacity-50"},r(P.value?"Update":"Add"),9,no)])],32)])])):u("",!0),S.value?(a(),d("div",{key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:t[30]||(t[30]=_(s=>S.value=!1,["self"]))},[e("div",go,[e("h3",uo,r(L.value?"Edit Reminder":"Add Reminder"),1),e("form",{onSubmit:_($e,["prevent"])},[e("div",yo,[t[73]||(t[73]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Reminder Type * ",-1)),e("div",co,[e("button",{type:"button",onClick:t[20]||(t[20]=s=>i(n).type="progress"),class:x(["p-3 rounded-lg border-2 text-center transition-all",i(n).type==="progress"?"border-blue-500 bg-blue-50 dark:bg-blue-900/30":"border-gray-200 dark:border-gray-600 hover:border-blue-300"]),title:"Remind to update progress"},[...t[70]||(t[70]=[e("div",{class:"text-xl mb-1"},"ðŸ“Š",-1),e("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300"},"Progress",-1),e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Update progress",-1)])],2),e("button",{type:"button",onClick:t[21]||(t[21]=s=>i(n).type="deadline"),class:x(["p-3 rounded-lg border-2 text-center transition-all",i(n).type==="deadline"?"border-red-500 bg-red-50 dark:bg-red-900/30":"border-gray-200 dark:border-gray-600 hover:border-red-300"]),title:"Remind about upcoming deadline"},[...t[71]||(t[71]=[e("div",{class:"text-xl mb-1"},"â°",-1),e("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300"},"Deadline",-1),e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Due date alert",-1)])],2),e("button",{type:"button",onClick:t[22]||(t[22]=s=>i(n).type="custom"),class:x(["p-3 rounded-lg border-2 text-center transition-all",i(n).type==="custom"?"border-purple-500 bg-purple-50 dark:bg-purple-900/30":"border-gray-200 dark:border-gray-600 hover:border-purple-300"]),title:"Custom message"},[...t[72]||(t[72]=[e("div",{class:"text-xl mb-1"},"ðŸ’¬",-1),e("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300"},"Custom",-1),e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Custom message",-1)])],2)])]),e("div",xo,[t[75]||(t[75]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Frequency * ",-1)),b(e("select",{"onUpdate:modelValue":t[23]||(t[23]=s=>i(n).frequency=s),class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500"},[...t[74]||(t[74]=[e("option",{value:"daily"},"Daily",-1),e("option",{value:"weekly"},"Weekly",-1),e("option",{value:"monthly"},"Monthly",-1),e("option",{value:"custom"},"Custom",-1)])],512),[[se,i(n).frequency]])]),i(n).frequency==="weekly"?(a(),d("div",bo,[t[76]||(t[76]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Select days of week ",-1)),e("div",vo,[(a(),d(B,null,E(Me,s=>e("button",{key:s.value,type:"button",onClick:g=>Ve(s.value),class:x(["w-10 h-10 rounded-full text-sm font-medium transition-all",h.value.includes(s.value)?"bg-indigo-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-indigo-100 dark:hover:bg-indigo-900/30"]),title:s.fullLabel},r(s.label),11,mo)),64))])])):u("",!0),i(n).frequency==="monthly"?(a(),d("div",po,[t[79]||(t[79]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Day of month ",-1)),e("div",fo,[t[77]||(t[77]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Day",-1)),b(e("select",{"onUpdate:modelValue":t[24]||(t[24]=s=>i(n).monthly_day=s),class:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500"},[(a(),d(B,null,E(31,s=>e("option",{key:s,value:s},r(s),9,ko)),64))],512),[[se,i(n).monthly_day]]),t[78]||(t[78]=e("span",{class:"text-gray-600 dark:text-gray-400"},"monthly",-1))]),t[80]||(t[80]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1",title:"Náº¿u thÃ¡ng khÃ´ng cÃ³ ngÃ y nÃ y, sáº½ nháº¯c vÃ o ngÃ y cuá»‘i thÃ¡ng"}," If the month doesn't have this day, will remind on the last day. ",-1))])):u("",!0),i(n).frequency==="custom"?(a(),d("div",ho,[t[81]||(t[81]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Custom days (1=Mon, 7=Sun) ",-1)),b(e("input",{"onUpdate:modelValue":t[25]||(t[25]=s=>i(n).custom_days=s),type:"text",placeholder:"e.g., 1,3,5 for Mon, Wed, Fri",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500"},null,512),[[p,i(n).custom_days]])])):u("",!0),e("div",wo,[t[82]||(t[82]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Remind Time * ",-1)),b(e("input",{"onUpdate:modelValue":t[26]||(t[26]=s=>i(n).remind_time=s),type:"time",required:"",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500"},null,512),[[p,i(n).remind_time]])]),e("div",_o,[t[83]||(t[83]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Custom Message ",-1)),b(e("textarea",{"onUpdate:modelValue":t[27]||(t[27]=s=>i(n).message=s),rows:"2",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",placeholder:"Message to show in reminder email..."},null,512),[[p,i(n).message]])]),L.value?(a(),d("div",Co,[e("label",Mo,[b(e("input",{"onUpdate:modelValue":t[28]||(t[28]=s=>i(n).is_active=s),type:"checkbox",class:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[te,i(n).is_active]]),t[84]||(t[84]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Active",-1))])])):u("",!0),e("div",Vo,[e("button",{type:"button",onClick:t[29]||(t[29]=s=>S.value=!1),class:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"}," Cancel "),e("button",{type:"submit",disabled:i(n).processing,class:"px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors disabled:opacity-50"},r(L.value?"Update":"Add"),9,So)])],32)])])):u("",!0)]),_:1})],64))}};export{Po as default};
