import{q as L,c as g,h as r,u as a,i as P,j as m,d as t,s as j,w as u,f as p,F as h,g as A,t as V,v as R,z,k as d,m as C,A as w,p as U,x as $,l as S,r as x,e as q}from"./app-C5dZB1YV.js";import{_ as H}from"./AuthenticatedLayout-DYNFgsn9.js";import{_ as i,b as s,a as n}from"./TextInput-BMjgwvjV.js";import{P as E}from"./PrimaryButton-r9PhYCUN.js";import{p as T,f as B}from"./formatNumber-CZPogZXQ.js";import"./ApplicationLogo-DbPoxqT5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"flex items-center gap-4"},O={class:"py-6"},W={class:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8"},Y={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6"},K=["value"],Q={class:"mt-1"},X={key:0,class:"mt-3 relative"},Z=["src"],ee={class:"grid grid-cols-3 gap-4"},te={class:"grid grid-cols-2 gap-4"},le={class:"mt-2 flex gap-4"},ae={class:"flex items-center gap-2 cursor-pointer"},re={class:"flex items-center gap-2 cursor-pointer"},oe={class:"flex items-center gap-2 cursor-pointer"},se=["disabled"],ie={key:0,class:"text-sm text-amber-600 dark:text-amber-400 mt-1"},de={class:"flex justify-end gap-4"},ce={__name:"Create",props:{categories:Array,coreGoalsCount:Number},setup(b){const D=b,l=L({category_id:"",title:"",description:"",slogan:"",cover_image:null,start_value:"",target_value:"",unit:"",start_date:"2026-01-01",target_date:"2026-12-31",priority:"medium",is_core_goal:!1}),k=q(()=>D.coreGoalsCount<3),v=x(null),_=x(null),f=x(""),c=x(""),G=()=>{l.start_value=T(f.value),f.value=B(l.start_value)},M=()=>{l.target_value=T(c.value),c.value=B(l.target_value)},I=y=>{const e=y.target.files[0];e&&(l.cover_image=e,v.value=URL.createObjectURL(e))},N=()=>{l.cover_image=null,v.value=null,_.value&&(_.value.value="")},F=()=>{l.post(route("goals.store"),{forceFormData:!0})};return(y,e)=>(p(),g(h,null,[r(a(P),{title:"Create Goal"}),r(H,null,{header:m(()=>[t("div",J,[r(a(S),{href:y.route("goals.index"),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},{default:m(()=>[...e[13]||(e[13]=[d(" â† Back ",-1)])]),_:1},8,["href"]),e[14]||(e[14]=t("h2",{class:"text-xl font-semibold text-gray-800 dark:text-gray-200"}," Create New Goal ",-1))])]),default:m(()=>[t("div",O,[t("div",W,[t("div",Y,[t("form",{onSubmit:j(F,["prevent"]),class:"space-y-6"},[t("div",null,[r(i,{for:"category_id",value:"Category"}),u(t("select",{id:"category_id","onUpdate:modelValue":e[0]||(e[0]=o=>a(l).category_id=o),class:"mt-1 block w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-indigo-500 focus:ring-indigo-500",required:""},[e[15]||(e[15]=t("option",{value:""},"Select a category",-1)),(p(!0),g(h,null,A(b.categories,o=>(p(),g("option",{key:o.id,value:o.id},V(o.icon)+" "+V(o.name),9,K))),128))],512),[[R,a(l).category_id]]),r(s,{message:a(l).errors.category_id,class:"mt-2"},null,8,["message"])]),t("div",null,[r(i,{for:"title",value:"Title"}),r(n,{id:"title",modelValue:a(l).title,"onUpdate:modelValue":e[1]||(e[1]=o=>a(l).title=o),type:"text",class:"mt-1 block w-full",required:"",placeholder:"e.g., Run a full marathon"},null,8,["modelValue"]),r(s,{message:a(l).errors.title,class:"mt-2"},null,8,["message"])]),t("div",null,[r(i,{for:"description",value:"Description"}),u(t("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=o=>a(l).description=o),rows:"4",class:"mt-1 block w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Describe using: State + Vision + Action"},null,512),[[z,a(l).description]]),e[16]||(e[16]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400",title:"MÃ´ táº£ theo cÃ´ng thá»©c: Tráº¡ng thÃ¡i + HÃ¬nh áº£nh + HÃ nh Ä‘á»™ng"},[d(" ðŸ’¡ Tip: Use "),t("strong",null,"State + Vision + Action"),d(" formula to visualize your goal clearly ")],-1)),r(s,{message:a(l).errors.description,class:"mt-2"},null,8,["message"])]),t("div",null,[r(i,{for:"slogan",value:"Slogan"}),r(n,{id:"slogan",modelValue:a(l).slogan,"onUpdate:modelValue":e[3]||(e[3]=o=>a(l).slogan=o),type:"text",class:"mt-1 block w-full",placeholder:"e.g., Run to live, live to run!"},null,8,["modelValue"]),e[17]||(e[17]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400",title:"CÃ¢u dáº«n Ä‘Æ°á»ng truyá»n cáº£m há»©ng"}," âœ¨ A short inspiring phrase for this goal ",-1)),r(s,{message:a(l).errors.slogan,class:"mt-2"},null,8,["message"])]),t("div",null,[r(i,{for:"cover_image",value:"Cover Image (optional)"}),t("div",Q,[t("input",{ref_key:"fileInput",ref:_,id:"cover_image",type:"file",accept:"image/jpeg,image/png,image/jpg,image/gif,image/webp",onChange:I,class:"block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-indigo-900 dark:file:text-indigo-300 dark:hover:file:bg-indigo-800"},null,544)]),r(s,{message:a(l).errors.cover_image,class:"mt-2"},null,8,["message"]),v.value?(p(),g("div",X,[t("img",{src:v.value,alt:"Preview",class:"h-32 w-full object-cover rounded-lg"},null,8,Z),t("button",{type:"button",onClick:N,class:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors"},[...e[18]||(e[18]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])])):C("",!0),e[19]||(e[19]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," Max 2MB. Formats: JPEG, PNG, GIF, WebP ",-1))]),t("div",ee,[t("div",null,[r(i,{for:"start_value",value:"Start Value"}),r(n,{id:"start_value",modelValue:f.value,"onUpdate:modelValue":e[4]||(e[4]=o=>f.value=o),type:"text",inputmode:"decimal",class:"mt-1 block w-full",placeholder:"VD: 27",onBlur:G},null,8,["modelValue"]),r(s,{message:a(l).errors.start_value,class:"mt-2"},null,8,["message"])]),t("div",null,[r(i,{for:"target_value",value:"Target Value"}),r(n,{id:"target_value",modelValue:c.value,"onUpdate:modelValue":e[5]||(e[5]=o=>c.value=o),type:"text",inputmode:"decimal",class:"mt-1 block w-full",placeholder:"VD: 20",onBlur:M},null,8,["modelValue"]),r(s,{message:a(l).errors.target_value,class:"mt-2"},null,8,["message"])]),t("div",null,[r(i,{for:"unit",value:"Unit"}),r(n,{id:"unit",modelValue:a(l).unit,"onUpdate:modelValue":e[6]||(e[6]=o=>a(l).unit=o),type:"text",class:"mt-1 block w-full",placeholder:"VD: %"},null,8,["modelValue"]),r(s,{message:a(l).errors.unit,class:"mt-2"},null,8,["message"])])]),e[27]||(e[27]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400",title:"Decrease goal: Nháº­p Start > Target. Increase goal: Nháº­p Start < Target"},[d(" ðŸ’¡ "),t("strong",null,"Decrease goal"),d(": Start > Target (e.g., body fat 27% â†’ 20%). "),t("strong",null,"Increase goal"),d(": Start < Target or leave Start empty. ")],-1)),t("div",te,[t("div",null,[r(i,{for:"start_date",value:"Start Date"}),r(n,{id:"start_date",modelValue:a(l).start_date,"onUpdate:modelValue":e[7]||(e[7]=o=>a(l).start_date=o),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),r(s,{message:a(l).errors.start_date,class:"mt-2"},null,8,["message"])]),t("div",null,[r(i,{for:"target_date",value:"Target Date"}),r(n,{id:"target_date",modelValue:a(l).target_date,"onUpdate:modelValue":e[8]||(e[8]=o=>a(l).target_date=o),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),r(s,{message:a(l).errors.target_date,class:"mt-2"},null,8,["message"])])]),t("div",null,[r(i,{value:"Priority"}),t("div",le,[t("label",ae,[u(t("input",{type:"radio","onUpdate:modelValue":e[9]||(e[9]=o=>a(l).priority=o),value:"low",class:"text-indigo-600 focus:ring-indigo-500"},null,512),[[w,a(l).priority]]),e[20]||(e[20]=t("span",{class:"text-gray-700 dark:text-gray-300"},"ðŸ“Œ Low",-1))]),t("label",re,[u(t("input",{type:"radio","onUpdate:modelValue":e[10]||(e[10]=o=>a(l).priority=o),value:"medium",class:"text-indigo-600 focus:ring-indigo-500"},null,512),[[w,a(l).priority]]),e[21]||(e[21]=t("span",{class:"text-gray-700 dark:text-gray-300"},"â­ Medium",-1))]),t("label",oe,[u(t("input",{type:"radio","onUpdate:modelValue":e[11]||(e[11]=o=>a(l).priority=o),value:"high",class:"text-indigo-600 focus:ring-indigo-500"},null,512),[[w,a(l).priority]]),e[22]||(e[22]=t("span",{class:"text-gray-700 dark:text-gray-300"},"ðŸ”¥ High",-1))])]),r(s,{message:a(l).errors.priority,class:"mt-2"},null,8,["message"])]),t("div",{class:U(["p-4 rounded-lg",a(l).is_core_goal?"bg-indigo-50 dark:bg-indigo-900/30 border-2 border-indigo-500":"bg-gray-50 dark:bg-gray-700/50"])},[t("label",{class:U(["flex items-start gap-3 cursor-pointer",{"opacity-50":!k.value&&!a(l).is_core_goal}])},[u(t("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=o=>a(l).is_core_goal=o),disabled:!k.value&&!a(l).is_core_goal,class:"mt-1 rounded text-indigo-600 focus:ring-indigo-500"},null,8,se),[[$,a(l).is_core_goal]]),t("div",null,[e[23]||(e[23]=t("span",{class:"font-semibold text-gray-900 dark:text-white"},"ðŸŽ¯ Core Goal",-1)),e[24]||(e[24]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1",title:"Trá»¥c trung tÃ¢m cá»§a Vision Board"}," Mark this as one of 3 core goals that orbit your Vision Board. ",-1)),k.value?C("",!0):(p(),g("p",ie," âš ï¸ You already have "+V(b.coreGoalsCount)+"/3 Core Goals. Uncheck another goal to add a new one. ",1))])],2),r(s,{message:a(l).errors.is_core_goal,class:"mt-2"},null,8,["message"])],2),t("div",de,[r(a(S),{href:y.route("goals.index"),class:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"},{default:m(()=>[...e[25]||(e[25]=[d(" Cancel ",-1)])]),_:1},8,["href"]),r(E,{disabled:a(l).processing},{default:m(()=>[...e[26]||(e[26]=[d(" Create Goal ",-1)])]),_:1},8,["disabled"])])],32)])])])]),_:1})],64))}};export{ce as default};
