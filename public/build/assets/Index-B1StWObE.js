import{_ as z}from"./AuthenticatedLayout-MnS8EBOt.js";import{c as a,d as e,p as x,m,t as o,F as p,g as T,s as L,k as B,e as b,f as l,h as S,u as H,i as I,j as N,b as M,r as _,B as $}from"./app-C0jw6siE.js";import"./ApplicationLogo-DxSRxMrv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"flex items-start gap-3"},R={key:0,class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},F={key:1,class:"w-5 h-5 flex items-center justify-center flex-shrink-0 text-amber-500"},W={class:"flex-1 min-w-0"},A={class:"flex items-start justify-between gap-2"},G={class:"min-w-0"},U={class:"flex items-center gap-2 mt-1 text-sm text-gray-500 dark:text-gray-400 hope:text-gray-600 flex-wrap"},q={class:"inline-flex items-center gap-1"},E={key:0,class:"text-gray-400 truncate"},J={class:"truncate max-w-[100px] inline-block align-bottom"},K={class:"flex flex-col items-end gap-1 flex-shrink-0"},P=["title"],Q={class:"text-xs text-gray-400 whitespace-nowrap"},X={key:0,class:"mt-2 text-sm text-gray-600 dark:text-gray-400 hope:text-gray-600 line-clamp-2"},Y={key:1,class:"mt-3 pl-1 border-l-2 border-gray-200 dark:border-gray-600"},Z={class:"text-xs text-gray-500 dark:text-gray-400 mb-2 pl-2"},ee={class:"space-y-1.5"},te=["onClick"],re={key:0,class:"w-2.5 h-2.5",fill:"currentColor",viewBox:"0 0 20 20"},se={key:0,class:"text-xs text-gray-400 ml-auto"},oe={key:2,class:"mt-3 text-xs text-gray-500 dark:text-gray-400 space-y-1.5"},le={class:"flex items-center gap-2 flex-wrap"},ae={class:"inline-flex items-center gap-1 capitalize"},ne={key:0,class:"flex items-center gap-1"},de={key:1,class:"flex items-center gap-1"},ie={key:2,class:"flex items-center gap-1"},me={key:3,class:"flex items-center gap-1"},ue={class:"pt-2"},j={__name:"TodayItemCard",props:{item:Object,variant:{type:String,default:"today"}},emits:["toggle","toggle-todo","click-goal","dismiss-reminder"],setup(t,{emit:f}){const u=t,c=f,h=b(()=>{switch(u.item.type){case"milestone":return u.item.is_soft?"Soft Milestone":"Milestone";case"todo":return"Todo";case"reminder":return"Reminder";default:return"Task"}}),k=b(()=>{switch(u.variant){case"overdue":return"border-l-4 border-l-red-500 bg-red-50 dark:bg-red-900/20 hope:bg-red-50";case"today":return"border-l-4 border-l-amber-500 bg-amber-50 dark:bg-amber-900/20 hope:bg-amber-50";case"upcoming":return"border-l-4 border-l-blue-500 bg-white dark:bg-gray-800 hope:bg-white";default:return"bg-white dark:bg-gray-800 hope:bg-white"}}),v=b(()=>u.item.type!=="reminder"),y=g=>new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric"}),C=b(()=>{const g=new Date;g.setHours(0,0,0,0);const r=new Date(u.item.due_date);r.setHours(0,0,0,0);const n=Math.ceil((r-g)/(1e3*60*60*24));return n<-1?`${Math.abs(n)} days overdue`:n===-1?"1 day overdue":n===0?"Today":n===1?"Tomorrow":`In ${n} days`}),w=g=>{if(!g)return"";const r=["","Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return g.split(",").map(n=>r[parseInt(n)]||n).join(", ")};return(g,r)=>(l(),a("div",{class:x(["rounded-lg shadow-sm p-4 transition-all hover:shadow-md",k.value])},[e("div",O,[v.value?(l(),a("button",{key:0,onClick:r[0]||(r[0]=n=>c("toggle",t.item)),class:x(["w-5 h-5 rounded border-2 flex items-center justify-center transition-colors flex-shrink-0 mt-0.5",t.item.is_completed?"bg-green-500 border-green-500 text-white":"border-gray-300 dark:border-gray-600 hover:border-indigo-500 dark:hover:border-indigo-400"])},[t.item.is_completed?(l(),a("svg",R,[...r[3]||(r[3]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):m("",!0)],2)):(l(),a("div",F,[...r[4]||(r[4]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)])])),e("div",W,[e("div",A,[e("div",G,[e("h3",{class:x(["font-medium truncate",t.item.is_completed?"text-gray-400 line-through":"text-gray-900 dark:text-white hope:text-gray-900"])},o(t.item.title),3),e("div",U,[e("span",q,[e("span",null,o(t.item.goal.category?.icon),1),e("button",{onClick:r[1]||(r[1]=n=>c("click-goal",t.item.goal.id)),class:"hover:text-indigo-600 dark:hover:text-indigo-400 hover:underline truncate max-w-[150px]"},o(t.item.goal.title),1)]),t.item.type==="todo"?(l(),a("span",E,[r[5]||(r[5]=e("span",{class:"mx-1"},"â†’",-1)),e("span",J,o(t.item.milestone.title),1)])):m("",!0)])]),e("div",K,[e("span",{class:x(["text-xs px-2 py-0.5 rounded-full whitespace-nowrap",{"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300":t.variant==="overdue","bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-300":t.variant==="today","bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":t.variant==="upcoming"}]),title:y(t.item.due_date)},o(C.value),11,P),e("span",Q,o(h.value),1)])]),t.item.description?(l(),a("p",X,o(t.item.description),1)):m("",!0),t.item.type==="milestone"&&t.item.todos&&t.item.todos.length>0?(l(),a("div",Y,[e("div",Z,o(t.item.todos_completed)+"/"+o(t.item.todos_count)+" todos ",1),e("div",ee,[(l(!0),a(p,null,T(t.item.todos,n=>(l(),a("div",{key:n.id,class:"flex items-center gap-2 pl-2"},[e("button",{onClick:L(D=>c("toggle-todo",{goalId:t.item.goal.id,milestoneId:t.item.id,todoId:n.id}),["stop"]),class:x(["w-4 h-4 rounded border flex items-center justify-center transition-colors flex-shrink-0",n.is_completed?"bg-green-500 border-green-500 text-white":"border-gray-300 dark:border-gray-500 hover:border-indigo-500"])},[n.is_completed?(l(),a("svg",re,[...r[6]||(r[6]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):m("",!0)],10,te),e("span",{class:x(["text-sm",n.is_completed?"text-gray-400 line-through":"text-gray-700 dark:text-gray-300"])},o(n.title),3),n.end_date?(l(),a("span",se,o(y(n.end_date)),1)):m("",!0)]))),128))])])):m("",!0),t.item.type==="reminder"?(l(),a("div",oe,[e("div",le,[e("span",{class:x(["inline-flex items-center gap-1 px-2 py-0.5 rounded-full capitalize",{"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300":t.item.reminder_type==="progress","bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-300":t.item.reminder_type==="deadline","bg-purple-100 text-purple-700 dark:bg-purple-900/50 dark:text-purple-300":t.item.reminder_type==="custom"}])},o(t.item.reminder_type),3),e("span",ae,[r[7]||(r[7]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),B(" "+o(t.item.frequency),1)])]),t.item.remind_time?(l(),a("div",ne,[r[8]||(r[8]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,o(t.item.remind_time),1)])):m("",!0),t.item.frequency==="weekly"&&t.item.weekly_days?(l(),a("div",de,[r[9]||(r[9]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",null,o(w(t.item.weekly_days)),1)])):m("",!0),t.item.frequency==="monthly"&&t.item.monthly_day?(l(),a("div",ie,[r[10]||(r[10]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",null,"Day "+o(t.item.monthly_day)+" of month",1)])):m("",!0),t.item.start_date||t.item.end_date?(l(),a("div",me,[r[11]||(r[11]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)),e("span",null,o(t.item.start_date?y(t.item.start_date):"Start")+" â†’ "+o(t.item.end_date?y(t.item.end_date):"No end"),1)])):m("",!0),e("div",ue,[e("button",{onClick:r[2]||(r[2]=n=>c("dismiss-reminder",t.item)),class:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-colors bg-green-100 text-green-700 hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900 hope:bg-green-100 hope:text-green-700 hope:hover:bg-green-200",title:"Mark as done for today"},[...r[12]||(r[12]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),B(" Done for today ",-1)])])])])):m("",!0)])])],2))}},ge={class:"py-6 sm:py-12"},ce={class:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8"},xe={class:"mb-6 sm:mb-8"},be={class:"mt-1 text-gray-600 dark:text-gray-400 hope:text-emerald-700 capitalize"},he={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},ke={class:"bg-red-50 dark:bg-red-900/30 hope:bg-red-50 rounded-xl p-4 border border-red-200 dark:border-red-800 hope:border-red-200 cursor-help",title:"Tasks that are past their due date"},ve={class:"text-2xl font-bold text-red-600 dark:text-red-400"},ye={class:"bg-amber-50 dark:bg-amber-900/30 hope:bg-amber-50 rounded-xl p-4 border border-amber-200 dark:border-amber-800 hope:border-amber-200 cursor-help",title:"Tasks that need to be completed today"},pe={class:"text-2xl font-bold text-amber-600 dark:text-amber-400"},fe={class:"bg-blue-50 dark:bg-blue-900/30 hope:bg-blue-50 rounded-xl p-4 border border-blue-200 dark:border-blue-800 hope:border-blue-200 cursor-help",title:"Tasks due within the next 7 days"},we={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},$e={class:"bg-gray-50 dark:bg-gray-800 hope:bg-emerald-50 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hope:border-emerald-200 cursor-help",title:"Total tasks (Overdue + Due Today + This Week)"},Te={class:"text-2xl font-bold text-gray-900 dark:text-white hope:text-emerald-800"},Ce={class:"flex items-center gap-2 mb-6 overflow-x-auto pb-2"},Me=["onClick"],je={key:0,class:"mb-8"},De={class:"text-lg font-semibold text-red-600 dark:text-red-400 mb-3 flex items-center gap-2"},Be={class:"text-sm font-normal bg-red-100 dark:bg-red-900/50 px-2 py-0.5 rounded-full"},Se={class:"space-y-3"},Ve={key:1,class:"mb-8"},ze={class:"text-lg font-semibold text-amber-600 dark:text-amber-400 mb-3 flex items-center gap-2"},Le={class:"text-sm font-normal bg-amber-100 dark:bg-amber-900/50 px-2 py-0.5 rounded-full"},He={class:"space-y-3"},Ie={key:2,class:"mb-8"},Ne={class:"text-lg font-semibold text-blue-600 dark:text-blue-400 mb-3 flex items-center gap-2"},_e={class:"text-sm font-normal bg-blue-100 dark:bg-blue-900/50 px-2 py-0.5 rounded-full"},Oe={class:"space-y-3"},Re={key:3,class:"text-center py-16"},Fe={class:"text-6xl mb-4"},We={key:4,class:"text-center py-16"},Ae={class:"text-xl font-semibold text-gray-900 dark:text-white hope:text-emerald-900 mb-2"},Ke={__name:"Index",props:{items:Object,stats:Object},setup(t){const f=t,u=_("all"),c=d=>u.value==="all"?d:d.filter(s=>s.type===u.value),h=b(()=>c(f.items.overdue)),k=b(()=>c(f.items.today)),v=b(()=>c(f.items.upcoming)),y=d=>{$.patch(route("milestones.toggle",[d.goal.id,d.id]),{},{preserveScroll:!0,preserveState:!0})},C=d=>{$.patch(route("milestone-todos.toggle",[d.goal.id,d.milestone.id,d.id]),{},{preserveScroll:!0,preserveState:!0})},w=d=>{d.type==="milestone"?y(d):d.type==="todo"&&C(d)},g=({goalId:d,milestoneId:s,todoId:i})=>{$.patch(route("milestone-todos.toggle",[d,s,i]),{},{preserveScroll:!0,preserveState:!0})},r=d=>{$.visit(route("goals.show",d))},n=d=>{const s=u.value;$.patch(route("reminders.dismiss",[d.goal.id,d.id]),{},{preserveScroll:!0,onSuccess:()=>{u.value=s}})},D=b(()=>new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),V=[{value:"all",label:"All"},{value:"milestone",label:"Milestones"},{value:"reminder",label:"Reminders"}];return(d,s)=>(l(),a(p,null,[S(H(I),{title:"Today"}),S(z,null,{default:N(()=>[e("div",ge,[e("div",ce,[e("div",xe,[s[0]||(s[0]=e("h1",{class:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white hope:text-emerald-900"}," Today ",-1)),e("p",be,o(D.value),1)]),e("div",he,[e("div",ke,[e("div",ve,o(t.stats.overdue),1),s[1]||(s[1]=e("div",{class:"text-sm text-red-700 dark:text-red-300"},"Overdue",-1))]),e("div",ye,[e("div",pe,o(t.stats.today),1),s[2]||(s[2]=e("div",{class:"text-sm text-amber-700 dark:text-amber-300"},"Due Today",-1))]),e("div",fe,[e("div",we,o(t.stats.upcoming),1),s[3]||(s[3]=e("div",{class:"text-sm text-blue-700 dark:text-blue-300"},"This Week",-1))]),e("div",$e,[e("div",Te,o(t.stats.total),1),s[4]||(s[4]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400 hope:text-emerald-700"},"Total",-1))])]),e("div",Ce,[(l(),a(p,null,T(V,i=>e("button",{key:i.value,onClick:Ge=>u.value=i.value,class:x(["px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-colors",u.value===i.value?"bg-indigo-600 text-white hope:bg-emerald-600":"bg-gray-100 dark:bg-gray-800 hope:bg-emerald-100 text-gray-600 dark:text-gray-400 hope:text-emerald-800 hover:bg-gray-200 dark:hover:bg-gray-700 hope:hover:bg-emerald-200"])},o(i.label),11,Me)),64))]),h.value.length>0?(l(),a("section",je,[e("h2",De,[s[5]||(s[5]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),s[6]||(s[6]=e("span",null,"Overdue",-1)),e("span",Be,o(h.value.length),1)]),e("div",Se,[(l(!0),a(p,null,T(h.value,i=>(l(),M(j,{key:`${i.type}-${i.id}`,item:i,variant:"overdue",onToggle:w,onToggleTodo:g,onClickGoal:r,onDismissReminder:n},null,8,["item"]))),128))])])):m("",!0),k.value.length>0?(l(),a("section",Ve,[e("h2",ze,[s[7]||(s[7]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),s[8]||(s[8]=e("span",null,"Due Today",-1)),e("span",Le,o(k.value.length),1)]),e("div",He,[(l(!0),a(p,null,T(k.value,i=>(l(),M(j,{key:`${i.type}-${i.id}`,item:i,variant:"today",onToggle:w,onToggleTodo:g,onClickGoal:r,onDismissReminder:n},null,8,["item"]))),128))])])):m("",!0),v.value.length>0?(l(),a("section",Ie,[e("h2",Ne,[s[9]||(s[9]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s[10]||(s[10]=e("span",null,"This Week",-1)),e("span",_e,o(v.value.length),1)]),e("div",Oe,[(l(!0),a(p,null,T(v.value,i=>(l(),M(j,{key:`${i.type}-${i.id}`,item:i,variant:"upcoming",onToggle:w,onToggleTodo:g,onClickGoal:r,onDismissReminder:n},null,8,["item"]))),128))])])):m("",!0),t.stats.total===0?(l(),a("div",Re,[e("div",Fe,o(u.value==="all"?"ðŸŽ‰":"ðŸ“­"),1),s[11]||(s[11]=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white hope:text-emerald-900 mb-2"}," All caught up! ",-1)),s[12]||(s[12]=e("p",{class:"text-gray-500 dark:text-gray-400 hope:text-emerald-700"}," No pending tasks for this week. ",-1))])):h.value.length===0&&k.value.length===0&&v.value.length===0?(l(),a("div",We,[s[13]||(s[13]=e("div",{class:"text-6xl mb-4"},"ðŸ“­",-1)),e("h3",Ae," No "+o(u.value)+"s found ",1),s[14]||(s[14]=e("p",{class:"text-gray-500 dark:text-gray-400 hope:text-emerald-700"}," Try selecting a different filter. ",-1))])):m("",!0)])])]),_:1})],64))}};export{Ke as default};
